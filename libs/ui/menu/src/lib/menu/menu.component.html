<div
  class="c-menu"
  [ngClass]="{'c-menu--utility': isUtilityMenu}"
>
  <mat-menu
    #menu="matMenu"
    [yPosition]="menuPositionY"
    [xPosition]="menuPositionX"
    [overlapTrigger]="shouldOverlapTrigger"
    backdropClass="ts-menu__backdrop"
    class="ts-menu__panel ts-menu__panel--{{ theme }}"
  >
    <ng-container [ngTemplateOutlet]="menuItemsTemplate"></ng-container>
  </mat-menu>

  <ts-button
    *ngIf="!isUtilityMenu"
    class="c-menu__trigger"
    [theme]="theme"
    [matMenuTriggerFor]="menu"
    [isDisabled]="isDisabled"
    [attr.data-disabled]="isDisabled"
  >
    <ng-content></ng-content>

    <ts-icon [classes]="['c-menu__caret']" [icon]="triggerIcon" [fixedWidth]="true">
      {{ triggerIcon }}
    </ts-icon>
  </ts-button>

  <button
    *ngIf="isUtilityMenu"
    class="c-menu__trigger c-menu__trigger--utility"
    mat-icon-button
    [matMenuTriggerFor]="menu"
    [disabled]="isDisabled"
  >
    <ts-icon [icon]="triggerIcon"></ts-icon>
  </button>
</div>
